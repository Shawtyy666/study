#!/bin/bash

# Функция для очистки репозитория
clean_repository() {
    echo "Начинаем очистку репозитория..."

    # Сброс всех отслеживаемых изменений
    git reset --hard
    if [ $? -eq 0 ]; then
        echo "Отслеживаемые изменения сброшены."
    else
        echo "Ошибка при сбросе отслеживаемых изменений."
        exit 1
    fi

    # Удаление всех неотслеживаемых файлов и директорий
    git clean -fd
    if [ $? -eq 0 ]; then
        echo "Неотслеживаемые файлы и директории удалены."
    else
        echo "Ошибка при удалении неотслеживаемых файлов и директорий."
        exit 1
    fi

    echo "Очистка репозитория завершена."
}

# Вызов функции очистки
clean_repository
